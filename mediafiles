#!/bin/bash
set -x
( [[ ! -t 0 ]] && cat || find . -type f ) | egrep '.*/[^/]+[.][^/]+$' | grep -v "[/][.]" | grep -v "fseventsd" | grep -v '/Icon' | grep -v '\.txt$' | grep -v '\.py' | grep -v '\.log$' | grep -v '\.md$' | grep -v '\.sh$' | grep -v '\.bak$' | grep -v '\.bak2$' | grep -v '\.copied$' | grep -v '\.VolumeIcon' | grep -v "DS_Store" | grep -v ".ts$" | grep -v ".txt$" | grep -v ".har$" | grep -v ".m3u" | grep -v ".epub$" | grep -v '\.png$' | egrep -v '[.](plist|data|jpg|jpeg|png|bmp|dds|tga|xml|s2z|cfg|html|vim|tex|h|cpp|log|gif|dat|eps|cab|mo|exe|ini|db|template|rgn|cfg|c|bat|rtl|pl|cp1250|manifest|vimrc|sug|spl|sh|s2z|mk|list|lck|ico|euc|dtd|csv|zip|reg|rar|old|noindent|css|7z|1|veryold|ttf|tmp|swp|sv|sty|sk|sjis|ru|rtf|py|pro|play|pem|pdf|no|nfo|it|iso9|inq|hu|hr|gvimrc|fr|fingerprints|es|enc|el|dict|dev|de|ctags|csupport|cs|cp737|cp1251|com|cmd|cc|ca|bz2|big5|awk|VimballRecord|LOG|EXE|dll|utf-8|private_key|gz|json)$' | egrep -v '[.](2|3|R|ebt|mdb|opml|patch|xcf|yaml|doc|jsonl|xls|conf|ods|tar|rm|xlsx|docx|htm|hs|js|mht|xz|maff)' | egrep "${@:-$}"

